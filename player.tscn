[gd_scene load_steps=18 format=3 uid="uid://dlupin2yuc22"]

[ext_resource type="Script" path="res://player.gd" id="1_uxq1m"]
[ext_resource type="ArrayMesh" uid="uid://m2ce8r0qwrdl" path="res://guardian_base.obj" id="2_ic66e"]
[ext_resource type="PackedScene" uid="uid://5mkcrd2qp8b4" path="res://weapons/eyasluna.tscn" id="2_pt21w"]
[ext_resource type="Texture2D" uid="uid://cuf5w88u5l8d3" path="res://bullet_hole.png" id="3_26x8t"]
[ext_resource type="Texture2D" uid="uid://b3326832euglx" path="res://KovaaK-Crosshair(1).png" id="4_tron1"]
[ext_resource type="Texture2D" uid="uid://pdyngf85yq41" path="res://flash.png" id="5_x1jry"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_x4oer"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_3n7ja"]
bg_color = Color(0.6, 0.6, 0.6, 0.643137)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_wnusq"]
bg_color = Color(1, 1, 1, 1)

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_emjce"]
properties/0/path = NodePath(".:position")
properties/0/spawn = true
properties/0/sync = true
properties/1/path = NodePath(".:rotation")
properties/1/spawn = true
properties/1/sync = true
properties/2/path = NodePath("Camera3D:rotation")
properties/2/spawn = true
properties/2/sync = true
properties/3/path = NodePath("Camera3D/Eyasluna/AnimationPlayer:current_animation")
properties/3/spawn = true
properties/3/sync = true

[sub_resource type="Gradient" id="Gradient_bmwc4"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_67xtt"]
gradient = SubResource("Gradient_bmwc4")

[sub_resource type="Gradient" id="Gradient_ibql5"]
colors = PackedColorArray(0, 0, 0, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_sniyp"]
gradient = SubResource("Gradient_ibql5")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_f4qh4"]
spread = 45.54
gravity = Vector3(0, -1, 0)
initial_velocity_min = 0.22
initial_velocity_max = 0.56
radial_accel_min = -7.02
radial_accel_max = 7.02
color_ramp = SubResource("GradientTexture1D_sniyp")
color_initial_ramp = SubResource("GradientTexture1D_67xtt")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ql31q"]
transparency = 1
albedo_texture = ExtResource("5_x1jry")
billboard_mode = 3
billboard_keep_scale = true
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="PlaneMesh" id="PlaneMesh_o5l1u"]
material = SubResource("StandardMaterial3D_ql31q")
size = Vector2(0.2, 0.2)
orientation = 2

[node name="player" type="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.01727, 0)
collision_layer = 0
script = ExtResource("1_uxq1m")
speed = 10.0
jump = 10.0
sensitivity = 2.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1.28585, 0, 0, 0, 1.28585, 0, 0, 0, 1.28585, 0, -0.987032, 0)
mesh = ExtResource("2_ic66e")
skeleton = NodePath("")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_x4oer")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.033112, 0.830705, -0.174368)

[node name="RayCast3D" type="RayCast3D" parent="Camera3D"]
target_position = Vector3(0, 0, -100)

[node name="Decal" type="Decal" parent="Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0143285, -1.7679)
visible = false
texture_albedo = ExtResource("3_26x8t")
texture_normal = ExtResource("3_26x8t")

[node name="Eyasluna" parent="Camera3D" instance=ExtResource("2_pt21w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.403251, -0.272415, -0.497185)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ProgressBar" type="ProgressBar" parent="CanvasLayer"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -220.0
offset_top = 30.0
offset_right = 220.0
offset_bottom = 45.0
grow_horizontal = 2
theme_override_styles/background = SubResource("StyleBoxFlat_3n7ja")
theme_override_styles/fill = SubResource("StyleBoxFlat_wnusq")
value = 75.0
show_percentage = false

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_emjce")

[node name="TextureRect" type="TextureRect" parent="."]
texture_filter = 2
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
size_flags_vertical = 4
texture = ExtResource("4_tron1")

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2.44193)
emitting = false
lifetime = 0.7
one_shot = true
explosiveness = 1.0
process_material = SubResource("ParticleProcessMaterial_f4qh4")
draw_pass_1 = SubResource("PlaneMesh_o5l1u")

[connection signal="shoot" from="Camera3D/Eyasluna" to="." method="_on_eyasluna_shoot"]
